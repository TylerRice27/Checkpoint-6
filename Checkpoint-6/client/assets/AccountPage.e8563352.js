import{_ as f,a as g,P as i,t as k,l as y,A as r}from"./index.0d5cbcb5.js";import{B as b,c as d,o as l,b as _,d as t,F as w,G as T,p as A,l as D,f as u,t as p}from"./vendor.8af76252.js";const S={name:"Account",setup(c){return b(async()=>{try{await g.getMyTickets()}catch(e){i.error(e)}}),{async deleteTicket(e){try{await i.confirm("Refund Ticket?","are you sure you want to cancel?","info","Yes Refund")&&await k.deleteTicket(e)}catch(n){y.error(n),i.toast(n.message,"error")}},formatDate(e){return` ${new Date(e).toDateString()}`},account:d(()=>r.account),tickets:d(()=>r.tickets),towerEvents:d(()=>r.accountTickets)}}},o=c=>(A("data-v-7bf79787"),c=c(),D(),c),x={class:"about text-end"},E=["src"],I=o(()=>t("section",{id:"account-events"},[t("div",{id:"events-container"})],-1)),B={id:"event-tickets"},P=o(()=>t("h5",{class:"this text-white"},"My Tickets for attending Events",-1)),C={class:"row"},M={class:"col-md-12 p-2"},N=["src"],R=o(()=>t("h6",{class:"p-1"},"Name",-1)),j=o(()=>t("h6",{class:"p-1 pt-2"},"Description",-1)),F=o(()=>t("h6",{class:"p-1 pt-2"},"Event Date",-1)),V=["onClick"],$=o(()=>t("div",{class:"events-container"},null,-1));function G(c,e,n,a,L,Y){return l(),_("div",null,[t("div",x,[t("img",{onClick:e[0]||(e[0]=(...s)=>c.editAccount&&c.editAccount(...s)),"data-bs-toggle":"modal","data-bs-target":"#editAccount-form",class:"rounded-pill selectable m-3",src:a.account.picture,alt:""},null,8,E)]),I,t("section",B,[P,t("div",C,[(l(!0),_(w,null,T(a.towerEvents,s=>{var v,m,h;return l(),_("div",{class:"col-md-4 this card bg-dark text-center mt-4",key:s.id},[t("div",M,[t("img",{class:"ticket-image img-fluid",src:s.event.coverImg,alt:""},null,8,N),R,u(" "+p((v=s.event)==null?void 0:v.name)+" ",1),j,u(" "+p((m=s.event)==null?void 0:m.description)+" ",1),F,u(" "+p(a.formatDate((h=s.event)==null?void 0:h.startDate)),1)]),t("button",{onClick:q=>a.deleteTicket(s.id),class:"btn btn-danger"}," Refund Ticket ",8,V)])}),128))]),$])])}var J=f(S,[["render",G],["__scopeId","data-v-7bf79787"]]);export{J as default};
